/* =========================================================
   Print Styles
   Applied only when the user triggers window.print().
   Hides all app chrome and shows only the preview content
   formatted for A4 paper.
   ========================================================= */

@media print {
  /* --- Page setup --- */
  @page {
    size: A4;
    margin: 15mm;
  }

  /* --- Disable theme transitions during print --- */
  *,
  *::before,
  *::after {
    transition: none !important;
  }

  /* --- Hide app chrome --- */
  #app-header,
  #desktop-toolbar-row,
  #mobile-tabs,
  #mobile-toolbar,
  #mobile-action-bar,
  #app-footer,
  #editor-column {
    display: none !important;
  }

  /* --- Full-width preview --- */
  #preview-column {
    display: block !important;
    width: 100% !important;
    height: auto !important;
    overflow: visible !important;
  }

  #preview-panel {
    display: block !important;
    height: auto !important;
    overflow: visible !important;
    background: #fff !important;
  }

  #preview-output {
    overflow: visible !important;
    padding: 0 !important;
    height: auto !important;
    flex: none !important;
  }

  /* --- Layout reset --- */
  body {
    background: #fff !important;
    color: #000 !important;
    min-height: auto !important;
    display: block !important;
  }

  /* Reset flex/grid containers */
  #main-content {
    display: block !important;
    height: auto !important;
    overflow: visible !important;
  }

  /* --- Force light colors for print --- */
  .preview-content {
    color: #1a1a1a !important;
  }

  .preview-content h1,
  .preview-content h2 {
    border-bottom-color: #e5e7eb !important;
  }

  .preview-content h6 {
    color: #6b7280 !important;
  }

  .preview-content a {
    color: #2563eb !important;
  }

  .preview-content blockquote {
    border-left-color: #d1d5db !important;
    color: #6b7280 !important;
    background-color: #f9fafb !important;
  }

  .preview-content code {
    background-color: #f3f4f6 !important;
  }

  .preview-content th,
  .preview-content td {
    border-color: #d1d5db !important;
  }

  .preview-content th {
    background-color: #f3f4f6 !important;
  }

  .preview-content tr:nth-child(even) {
    background-color: #f9fafb !important;
  }

  .preview-content hr {
    border-top-color: #d1d5db !important;
  }

  /* --- Preserve backgrounds & colours --- */
  * {
    -webkit-print-color-adjust: exact !important;
    print-color-adjust: exact !important;
  }

  /* --- Page break rules --- */
  .preview-content h1,
  .preview-content h2,
  .preview-content h3,
  .preview-content h4,
  .preview-content h5,
  .preview-content h6 {
    break-after: avoid;
  }

  .preview-content pre,
  .preview-content blockquote,
  .preview-content table,
  .preview-content img {
    break-inside: avoid;
  }

  .preview-content ul,
  .preview-content ol {
    break-inside: avoid;
  }

  /* --- Links: show URL after link text --- */
  .preview-content a[href^='http']::after {
    content: ' (' attr(href) ')';
    font-size: 0.8em;
    color: #6b7280;
    word-break: break-all;
  }
}
